# æ·»åŠ  live2d æ¨¡å‹
!!! info "å¦‚ä½•ä¸ºé™æ€ç½‘ç«™æ·»åŠ live2dæ¨¡å‹"
    ä¸ºç½‘ç«™æ·»åŠ ä¸€ä¸ª`live2d`çœ‹æ¿å¨˜çš„æƒ³æ³•æºäºåœ¨Bç«™çœ‹åˆ°çš„ä¸€æ¡è§†é¢‘ï¼š[ã€1åˆ†é’Ÿï¼Œç»™ä½ çš„ç½‘ç«™åŠ ä¸ªçœ‹æ¿å¨˜ï¼Live2Dä¿å§†çº§æ¥å…¥æ•™ç¨‹](https://www.bilibili.com/video/BV1FeUaYDEKr/?share_source=copy_web&vd_source=4ed18fad2a3008a97e81d9d38d12141c){:target=_blank}
    ã€‚æœ¬æ–‡é™¤äº†è¯¥è§†é¢‘å¤–ï¼Œè¿˜å‚ç…§äº†ä¸¤ä¸ª`github`ä»“åº“ï¼š[`live2d-widget`](https://github.com/stevenjoezhang/live2d-widget?tab=readme-ov-file){:target=_blank}å’Œ[`live2d`](https://github.com/imuncle/live2d){:target=_blank}ã€‚

## ä¸€è¡Œä»£ç å®ç°ï¼Ÿ
æ ¹æ®[`live2d-widget`](https://github.com/stevenjoezhang/live2d-widget?tab=readme-ov-file){:target=_blank}ä»“åº“ï¼Œåªéœ€è¦æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š

``` javascript
<script src="https://fastly.jsdelivr.net/npm/live2d-widgets@0/autoload.js"/>
```

è¿™è¡Œä»£ç äº‹å®ä¸Šå°±æ˜¯ä»ä½œè€…çš„æœåŠ¡å™¨ä¸Šè·å–`js`è„šæœ¬ï¼Œä»è€Œå®ç°è‡ªåŠ¨åŠ è½½æ¨¡å‹ï¼Œä½†è¿™ä¼šä¸åˆ©äºä¿®æ”¹å‚æ•°å’Œå†…å®¹ã€‚ä»“åº“ä½œè€…å¯¹æ­¤çš„è§£å†³æ–¹æ³•è‡ªè¡Œ`fork`ä»“åº“åä¿®æ”¹`autoload.js`ç­‰æ–‡ä»¶ä»¥å®ç°è‡ªå®šä¹‰å†…å®¹ã€‚ä¸è¿‡è¿™è¿˜æ˜¯
æ¯”è¾ƒéº»çƒ¦ï¼Œè€Œä¸”æ­¤ä»“åº“çš„æ ·ä¾‹æ¨¡å‹éƒ½è¾ƒä¸ºç®€é™‹ï¼Œè¿˜éœ€è¦è‡ªè¡Œæ·»åŠ æ¨¡å‹ã€‚

## ç›´æ¥åŠ è½½æ¨¡å‹ï¼
åœ¨[`live2d`](https://github.com/imuncle/live2d){:target=_blank}ä»“åº“ä¸­æœ‰è®¸å¤šåŸºäº`Live2d Cubism 3`çš„é«˜å“è´¨æ¨¡å‹ï¼ŒåŒæ—¶ä½œè€…è¿˜æä¾›äº†ä¸€ä¸ªç®€æ˜“çš„å±•ç¤ºç½‘ç«™ï¼Œå› æ­¤å¯ä»¥è€ƒè™‘ç›´æ¥åŠ è½½å…¶ä¸­çš„æ¨¡å‹ã€‚
ä¸è¿‡è¿™éœ€è¦ä¿®æ”¹ä¸€éƒ¨åˆ†`js`ä»£ç ï¼Œå› ä¸ºåœ¨ç¤ºä¾‹ç½‘ç«™ä¸­é‡‡ç”¨çš„æ˜¯é€‰æ‹©å±•ç¤ºï¼Œè€Œæˆ‘ä»¬åªéœ€è¦å±•ç¤ºç‰¹å®šçš„ä¸€ä¸ªæ¨¡å‹å³å¯ã€‚

!!! info "ç¬¬ä¸€æ­¥ï¼šå¼•å…¥ä»“åº“ä¸­ live2d_3 æ–‡ä»¶å¤¹ä¸­çš„å†…å®¹"
    `live2d_3`ä¸­åŒ…å«`css`ã€`js`å’Œ`model`ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼Œå…¶ä¸­`model`ä¸­åŒ…å«æ‰€æœ‰çš„æ¨¡å‹ä»£ç ï¼ˆå¯ä»¥è‡ªè¡Œåˆ é™¤ä¸æƒ³è¦çš„ï¼‰ï¼Œ`js`ä¸­åŒ…å«æ¨¡å‹çš„åŠ è½½è„šæœ¬ï¼ŒåŒæ—¶åœ¨éœ€è¦`live2d`çš„`markdown`æ–‡ä»¶ä¸­å¼•å…¥å…¶ä¸­çš„è„šæœ¬ã€‚ä¾‹å¦‚æœ¬æ–‡æ¡£åœ¨æœ€å¤–å±‚çš„`index.md`
    ä¸­å¼•å…¥ï¼Œä»£ç å¦‚ä¸‹ï¼Œæ³¨æ„è„šæœ¬`src`å±æ€§æ˜¯å½“å‰æ–‡ä»¶åˆ°`js`æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„ï¼š

    ``` html linenums="1"
    <div class="Canvas">
        <canvas style="touch-action: none; cursor: inherit;"></canvas>
    </div>
    <script src="./live2d/js/jquery.min.js"></script>
    <script src="./live2d/js/bootstrap.min.js"></script>
    <script src="./live2d/js/live2dcubismcore.min.js"></script>
    <script src="./live2d/js/pixi.min.js"></script>
    <script src="./live2d/js/live2dcubismframework.js"></script>
    <script src="./live2d/js/live2dcubismpixi.js"></script>
    <script src="./live2d/js/charData.js"></script>
    <script src="./live2d/js/l2d.js"></script>
    <script src="./live2d/js/main.js"></script>
    ```

    åœ¨`stylesheets/extra.css`ä¸­å¯ä»¥æ·»åŠ `Canvas`çš„`css`ï¼Œå¯ä»¥è‡ªå®šä¹‰æ¨¡å‹ï¼ˆåŒ…å«èƒŒæ™¯ï¼‰çš„å¤§å°å’Œä½ç½®ï¼š

    ``` css linenums="1"
    .Canvas {
        position: absolute;
        right: 10px;
        bottom: 40px;
        width: 300px;
        height: 500px;
    }
    ```

???+ info "ç¬¬äºŒæ­¥ï¼šä¿®æ”¹ main.js ä»£ç "
    `main.js`ä¸­å«æœ‰ä¸»åŠ è½½å‡½æ•°ï¼Œä¿®æ”¹åçš„ç»“æœå¯ä»¥å‚ç…§å¦‚ä¸‹ä»£ç ã€‚å…¶ä¸­æœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ï¼ˆé«˜äº®éƒ¨åˆ†ï¼‰ï¼š

    1. ç¬¬3è¡Œä¸­çš„è·¯å¾„éœ€è¦æ ¹æ®æ·»åŠ `live2d`çš„æ–‡ä»¶çš„åŒçº§ç›®å½•å’Œ`model`æ–‡ä»¶å¤¹çš„ç›¸å¯¹è·¯å¾„è¿›è¡ŒåŒ¹é…ã€‚
    2. ç¬¬15è¡Œä¸­çš„æ¨¡å‹è·¯å¾„å¯ä»¥æ ¹æ®æƒ³è¦å±•ç¤ºçš„æ¨¡å‹è‡ªè¡Œä¿®æ”¹ã€‚
    3. ç¬¬20-21ã€29-30ã€47-48è¡Œä¸­è®¾ç½®çš„ä¸ºæ•´ä¸ªå±•ç¤ºåŒºåŸŸçš„å®½é«˜ï¼Œåº”å½“ä¸€èµ·ä¿®æ”¹ã€‚
    4. ç¬¬25è¡Œä¸­çš„`resolution`å‚æ•°å†³å®šäº†æ¨¡å‹çš„æ¸²æŸ“åˆ†è¾¨ç‡ï¼Œè¶Šå¤§è¶Šé«˜ï¼Œä¸è¿‡è¿‡é«˜ä¼šå¸¦æ¥è¾ƒå¤§çš„å¯åŠ¨å»¶è¿Ÿã€‚
    5. ç¬¬54è¡Œè®¾ç½®äº†æ¨¡å‹åœ¨ä¸­å¿ƒç‚¹ï¼ˆ`position`ï¼‰æ¸²æŸ“ï¼Œç¬¬55ã€56ã€59è¡Œè®¾ç½®æ¨¡å‹æœ¬èº«çš„ç¼©æ”¾ï¼Œä¹˜æ•°è¶Šå¤§æ¨¡å‹æ˜¾ç¤ºè¶Šå¤§ã€‚`0.2`å’Œ`300*500`åŸºæœ¬ç›¸é…ğŸ˜‹ã€‚

    ``` javascript title="main.js" linenums="1" hl_lines="3 15 20-26 29-30 47-48 54-59"

    var v;
    $(document).ready(() => {
        v = new Viewer('live2d/model'); // æ¨¡å‹æ ¹æ–‡ä»¶å¤¹è·¯å¾„
    });
    
    class Viewer {
        constructor(basePath) {
            this.l2d = new L2D(basePath);
    
            this.canvas = $(".Canvas");
            this.selectCharacter = $(".selectCharacter");
            this.selectAnimation = $(".selectAnimation");
    
            // ç›´æ¥åŠ è½½æŒ‡å®šçš„æ¨¡å‹
            const specificModelPath = "Azue Lane(JP)/dujiaoshou_4"; // æŒ‡å®šæ¨¡å‹è·¯å¾„
            this.l2d.load(specificModelPath, this);
    
            // åˆ›å»ºPixiJSåº”ç”¨
            this.app = new PIXI.Application({
                width: 300,
                height: 500,
                backgroundColor: 0x00000000, // è®¾ç½®èƒŒæ™¯è‰²ä¸ºé€æ˜
                transparent: true, // å¯ç”¨é€æ˜èƒŒæ™¯
                antialias: true,
                resolution: 3,
                autoDensity: true,
            });
    
            let width = 300;
            let height = (width / 3.0) * 5.0;
            this.app.view.style.width = width + "px";
            this.app.view.style.height = height + "px";
            this.app.renderer.resize(width, height);
            this.canvas.html(this.app.view);
    
            this.app.ticker.add((deltaTime) => {
                if (!this.model) {
                    return;
                }
    
                this.model.update(deltaTime);
                this.model.masks.update(this.app.renderer);
            });
    
            window.onresize = (event) => {
                if (event === void 0) { event = null; }
                let width = Math.min(300, window.innerWidth);
                let height = (width / 3.0) * 5.0;
                this.app.view.style.width = width + "px";
                this.app.view.style.height = height + "px";
                this.app.renderer.resize(width, height);
    
                if (this.model) {
                    this.model.position = new PIXI.Point((width * 0.5), (height * 0.5));
                    this.model.scale = new PIXI.Point((this.model.position.x * 0.2), (this.model.position.x * 0.2));
                    this.model.masks.resize(this.app.view.width, this.app.view.height);
                }
                if (this.model.height <= 200) {
                    this.model.scale = new PIXI.Point((this.model.position.x * 0.2), (this.model.position.x * 0.2));
                }
            };

            ...

        }
    }
    ```

!!! success "æœ€åä¸€æ­¥ï¼šçœ‹çœ‹æ•ˆæœğŸ¥°"
    å¯ä»¥ä¿®æ”¹ç¬¬ä¸€æ­¥ä¸­çš„`css`æ¥æ”¹å˜æ¨¡å‹æ˜¾ç¤ºçš„ä½ç½®å’Œå¤§å°ã€‚
    ![å±•ç¤º](../static/live2d_show.png)
