# çƒ­é—¨100é¢˜

!!! info "è¯´æ˜"
    æœ¬æ–‡ä¸ºç¬”è€…ç»ƒä¹ leetcodeçƒ­é—¨100é¢˜æ—¶çš„æ€è€ƒå’Œæ„Ÿæ‚Ÿï¼Œå¯èƒ½ä¼šå­˜åœ¨ä¸€äº›ç–æ¼

## å“ˆå¸Œ

### ä¸¤æ•°å’Œ
!!! question "ä¸¤æ•°ä¹‹å’Œ"
    ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„`nums`å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼`target`ï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼`target `çš„é‚£ä¸¤ä¸ªæ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚ ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆï¼Œå¹¶ä¸”ä½ ä¸èƒ½ä½¿ç”¨ä¸¤æ¬¡ç›¸åŒçš„å…ƒç´ ã€‚ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚

çœ‹åˆ°è¿™é“é¢˜çš„ç¬¬ä¸€ååº”æ˜¯æš´åŠ›è§£æ³•ï¼Œéå†æ•°ç»„ä¸­çš„æ‰€æœ‰ä¸¤æ•°å¯¹ç›´è‡³æ‰¾åˆ°æ­£ç¡®è§£ï¼Œè¿™ç”¨ä¸¤ä¸ª`for`å¾ªç¯å¯ä»¥è½»æ¾å®ç°ã€‚

???+ success "Solution"
    === "C++"
        ``` c++ linenums="1"
        class Solution {
        public:
            vector<int> twoSum(vector<int>& nums, int target) {
                vector<int> result;
                for (int i=0; i<nums.size()-1; i++) {
                    for (int j=i+1; j<nums.size(); j++) {
                        if (nums[i] + nums[j] == target) {
                            result.push_back(i);
                            result.push_back(j);
                            return result;
                        }
                    }
                }
                return result;
            }
        };
        ```

ä½†æ˜¾ç„¶éå†çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(N^2)$ï¼Œåœ¨æ•°ç»„è¾ƒå¤§æ—¶çš„æ€§èƒ½å ªå¿§ã€‚æƒ³è¦æ›´å¿«åœ°æ‰¾åˆ°è§£ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªæ€è·¯ï¼š

!!! note ""
    1. å¯¹æ•°ç»„è¿›è¡Œæ“ä½œï¼ˆæ˜¾ç„¶æœ‰åºæ•°ç»„å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨$O(N)$çš„å¤æ‚åº¦å†…æ‰¾åˆ°è§£ï¼‰
    2. æ›´å¿«åœ°æŸ¥æ‰¾æ•°ç»„ï¼ˆå“ˆå¸Œè¡¨ï¼ï¼‰

å†æ·±å…¥æ€è€ƒä¸€ä¸‹ï¼Œä½¿ç”¨`qsort`ä¹Ÿä¼šå¸¦å…¥$O(Nlog(N))$çš„å¤æ‚åº¦ï¼Œè€Œä¸”æ’åºä¼šå½±å“åŸæœ¬çš„æ•°ç»„ä¸‹æ ‡ï¼Œå› æ­¤ä½¿ç”¨å“ˆå¸Œè¡¨æ˜¯ä¸€ä¸ªæ›´ä¸ºå®æƒ çš„é€‰æ‹©ï¼Œæ¯•ç«Ÿåœ¨æ²¡æœ‰å†²çªçš„æƒ…å†µä¸‹æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä»…ä¸º$O(1)$ã€‚

???+ success "å“ˆå¸Œè§£æ³•"
    æˆ‘ä»¬å¯ä»¥å°†`num1 + num2 = target`å˜å½¢ä¸º`num1 = target - num2`ï¼Œä»è€Œè½¬åŒ–ä¸ºä¸€ä¸ªæŸ¥æ‰¾é—®é¢˜ã€‚å› æ­¤æˆ‘ä»¬ä»¥`(nums[i],i)`ç»„æˆæ•°å’Œå¯¹åº”ä¸‹æ ‡çš„é”®å€¼å¯¹ï¼Œå†é€šè¿‡éå†çš„æ–¹å¼è¿›è¡ŒæŸ¥æ‰¾ã€‚
    
    === "C++"
        ``` c++ linenums="1" hl_lines="10"
        class Solution {
        public:
            vector<int> twoSum(vector<int>& nums, int target) {
                std::unordered_map<int, int> hash;
                for (int j=0; j<nums.size(); j++) {
                    int remainder = target - nums[j];
                    if (hash.find(remainder) != hash.end() && hash[remainder] != j) {
                        return {j, hash[remainder]};
                    } else {
                        hash[nums[j]] = j;
                    }
                }
                return {};
            }
        };
        ```

    !!! tip "æ¯”è¾ƒæœ‰è¶£çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©åœ¨æŸ¥æ‰¾å“ˆå¸Œè¡¨çš„è¿‡ç¨‹ä¸­æ’å…¥é”®å€¼å¯¹ï¼Œè™½ç„¶çœ‹èµ·æ¥å¾ˆæ€ªï¼Œä½†è¿™ç¡®å®åœ¨ä¸€èˆ¬æƒ…å†µä¸‹æ¯”ä¸€å¼€å§‹å°±åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„å“ˆå¸Œè¡¨æ¥çš„å¿«ã€‚"

---

### å­—æ¯å¼‚ä½è¯åˆ†ç»„
!!! question "å­—æ¯å¼‚ä½è¯åˆ†ç»„"
    ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¯·ä½ å°†å­—æ¯å¼‚ä½è¯ç»„åˆåœ¨ä¸€èµ·ã€‚å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç»“æœåˆ—è¡¨ã€‚å­—æ¯å¼‚ä½è¯æ˜¯ç”±é‡æ–°æ’åˆ—æºå•è¯çš„æ‰€æœ‰å­—æ¯å¾—åˆ°çš„ä¸€ä¸ªæ–°å•è¯ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š
    > è¾“å…¥: strs = ["eat", "tea", "tan", "ate", "nat", "bat"]<br>è¾“å‡º: [["bat"],["nat","tan"],["ate","eat","tea"]]

æ˜¾ç„¶è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå“ˆå¸Œåº”ç”¨é¢˜ï¼Œé—®é¢˜åœ¨äºå¦‚ä½•å°†ä¸åŒæ’åˆ—çš„å­—ç¬¦ä¸²å½’äºåŒä¸€ä¸ªå“ˆå¸Œå€¼ã€‚

???+ success "Solution"
    === "æ’åº"
        å¯¹äºå¼‚ä½å­—ç¬¦ä¸²ï¼Œå°†å…¶è¿›è¡Œå­—å…¸åºæ’åºå¾—åˆ°çš„å­—ç¬¦ä¸²æ˜¾ç„¶æ˜¯ç›¸åŒçš„
        > eat/ate -> aet

        å› æ­¤æˆ‘ä»¬ä»¥æ’åºåçš„å­—ç¬¦ä¸²ä½œä¸ºé”®å€¼å³å¯å°†å¼‚ä½è¯å½’å…¥ä¸€ä¸ªå“ˆå¸Œé¡¹
        
        ``` c++ linenums="1" title="C++"
        class Solution {
        public:
            vector<vector<string>> groupAnagrams(vector<string>& strs) {
                vector<vector<string>> result;
                unordered_map<string, vector<string>> map;
                for (string& it : strs) {
                    string str = it;
                    sort(str.begin(), str.end());
                    map[str].emplace_back(it);
                }
                for (auto it : map) {
                    result.emplace_back(it.second);
                }
                return result;
            }
        };
        ```

    === "è®¡æ•°"
        å¼‚ä½è¯çš„æ¯ä¸ªå­—ç¬¦çš„å‡ºç°æ¬¡æ•°æ˜¯ä¸€æ ·çš„ï¼ŒæŒ‰ç…§å­—å…¸åºå¯¹æ¯ä¸ªå‡ºç°çš„å­—ç¬¦æ’åºï¼Œå¹¶åœ¨å­—ç¬¦ååŠ ä¸Šå­—ç¬¦æ•°ï¼Œå¾—åˆ°ä¸€ä¸ªå¼‚ä½è¯çš„ç‰¹æœ‰çš„é”®å€¼

        ``` java linenums="1" title="Java"
        class Solution {
            public List<List<String>> groupAnagrams(String[] strs) {
                return new ArrayList<>(Arrays.stream(strs)
                    .collect(Collectors.groupingBy(str -> {
                        int[] counter = new int[26];
                        for (int i = 0; i < str.length(); i++) {
                            counter[str.charAt(i) - 'a']++;
                        }
                        StringBuilder sb = new StringBuilder();
                        for (int i = 0; i < 26; i++) {
                            // è¿™é‡Œçš„ if æ˜¯å¯çœç•¥çš„ï¼Œä½†æ˜¯åŠ ä¸Š if ä»¥åï¼Œç”Ÿæˆçš„ sb æ›´çŸ­ï¼Œåç»­ groupingBy ä¼šæ›´å¿«ã€‚
                            if (counter[i] != 0) {
                                sb.append((char) ('a' + i));
                                sb.append(counter[i]);
                            }
                        }
                        return sb.toString();
                    })).values());
            }
        }
        ```

        ??? info "stream å’Œ collector"
            [`stream`](https://blog.csdn.net/weixin_73869209/article/details/130850722)å’Œ[`Collector`](https://blog.csdn.net/xjsj62728/article/details/144144030)è¿™ä¸¤ç¯‡åšå®¢å¯ä»¥å‚è€ƒ

---

### æœ€é•¿è¿ç»­åºåˆ—
!!! question "æœ€é•¿è¿ç»­åºåˆ—"
    ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„`nums`ï¼Œæ‰¾å‡ºæ•°å­—è¿ç»­çš„æœ€é•¿åºåˆ—ï¼ˆä¸è¦æ±‚åºåˆ—å…ƒç´ åœ¨åŸæ•°ç»„ä¸­æœ‰åºï¼‰çš„é•¿åº¦ã€‚è¯·ä½ è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

    > è¾“å…¥ï¼šnums = [100,4,200,1,3,2]<br>
    è¾“å‡ºï¼š4

æ­¤é¢˜è¦æ±‚æ—¶é—´å¤æ‚åº¦ä¸º$O(N)$ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨æ’åºç®—æ³•(1)ã€‚æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªç®€å•çš„æƒ³æ³•ï¼Œå¯¹äºä¸€ä¸ªå…ƒç´ `x`ï¼Œä¾æ¬¡æŸ¥è¯¢`x+1`ã€`x+2`Â·Â·Â·æ˜¯å¦å­˜åœ¨ï¼Œå¹¶ä¸æ–­æ›´æ–°æœ€å¤§é•¿åº¦ã€‚ä½†æ˜¾ç„¶
è¿™éœ€è¦$O(N^2)$çš„æ—¶é—´å¤æ‚åº¦ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¸¤ä¸ª**å…³é”®ä¼˜åŒ–**ï¼š
{ .annotate }

1.  æœ‰è¶£åœ°æ˜¯ä½¿ç”¨å¿«æ’ç®—æ³•åè€Œæ›´å¿«ğŸ¤£

!!! note ""
    1. ä½¿ç”¨`HashSet`æ¥ä¿å­˜å…ƒç´ ï¼Œä»è€Œå¯ä»¥ä»¥ $O(1)$ çš„æ—¶é—´å¤æ‚åº¦æŸ¥è¯¢
    2. åœ¨è¿›è¡ŒæŸ¥è¯¢å‰ï¼Œå…ˆæ£€æŸ¥å…ƒç´ `x`æ˜¯å¦å­˜åœ¨å‰ç½®å…ƒç´ `x-1`ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™è¯¥å…ƒç´ ä¸éœ€è¦éå†ï¼ˆæ˜¾ç„¶`x-1`èµ·å§‹çš„åºåˆ—æ›´é•¿ï¼‰ã€‚

å¦‚æ­¤æˆ‘ä»¬å°±å¯ä»¥æ§åˆ¶æ¯ä¸ªåºåˆ—åªè¢«éå†ä¸€æ¬¡ï¼Œä¸”æŸ¥è¯¢æ“ä½œ`cost=1`ï¼Œä»è€Œä¿è¯æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(1)$

???+ success "Solution"
    === "Java"
        ``` java linenums="1"
        class Solution {
            public int longestConsecutive(int[] nums) {
                int result = 0;
                Set<Integer> hash_set = new HashSet<>();
                for (int num : nums) {
                    hash_set.add(num); // æŠŠ nums è½¬æˆå“ˆå¸Œé›†åˆ
                }
                for (int x : hash_set) { // éå†å“ˆå¸Œé›†åˆ
                    if (hash_set.contains(x - 1)) {
                        continue;
                    }
                    // x æ˜¯åºåˆ—çš„èµ·ç‚¹
                    int y = x + 1;
                    while (hash_set.contains(y)) { // ä¸æ–­æŸ¥æ‰¾ä¸‹ä¸€ä¸ªæ•°æ˜¯å¦åœ¨å“ˆå¸Œé›†åˆä¸­
                        y++;
                    }
                    // å¾ªç¯ç»“æŸåï¼Œy-1 æ˜¯æœ€åä¸€ä¸ªåœ¨å“ˆå¸Œé›†åˆä¸­çš„æ•°
                    result = Math.max(result, y - x); // ä» x åˆ° y-1 ä¸€å…± y-x ä¸ªæ•°
                }
                return result;
            }
        }
        ```

---

## åŒæŒ‡é’ˆ

### ç§»åŠ¨é›¶
!!! question "ç§»åŠ¨é›¶"
    ç»™å®šä¸€ä¸ªæ•°ç»„`nums`ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰0ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚è¯·æ³¨æ„ï¼Œå¿…é¡»åœ¨ä¸å¤åˆ¶æ•°ç»„çš„æƒ…å†µä¸‹åŸåœ°å¯¹æ•°ç»„è¿›è¡Œæ“ä½œã€‚

æ­¤é¢˜çš„é‡ç‚¹åœ¨äºä¸èƒ½ä½¿ç”¨é¢å¤–çš„å†…å­˜ç©ºé—´ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åªèƒ½åœ¨æ•°ç»„å†…è¿›è¡Œæ“ä½œã€‚å› ä¸ºæ‰€æœ‰ç½®å°¾å…ƒç´ éƒ½æ˜¯é›¶ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¸è€ƒè™‘é›¶å…ƒç´ çš„ä½ç½®å’Œé¡ºåºï¼Œåªéœ€è¦å°†éé›¶å…ƒç´ ä¾æ¬¡å¡«å…¥æ•°ç»„
æœ€åå°†å‰©ä½™ä½å…¨éƒ¨ç½®é›¶å³å¯ã€‚

???+ success "Solution"
    === "Java"
        ``` java linenums="1"
        class Solution {
            public void moveZeroes(int[] nums) {
                int idx = 0;
                for (int i=0; i<nums.length; i++) {
                    if (nums[i] != 0) {
                        nums[idx++] = nums[i];
                    }
                }
                for (int j=idx; j<nums.length; j++) {
                    nums[j] = 0;
                }
            }
        }
        ```

---

### ç››æœ€å¤šæ°´çš„å®¹å™¨
!!! question "ç››æœ€å¤šæ°´çš„å®¹å™¨"
    ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º`n`çš„æ•´æ•°æ•°ç»„`height`ã€‚æœ‰`n`æ¡å‚çº¿ï¼Œç¬¬`i`æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯`(i, 0)`å’Œ`(i, height[i])`ã€‚æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸xè½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚
    è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚è¯´æ˜ï¼šä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚

æœ€åŸºæœ¬çš„æƒ³æ³•æ˜¯ç›´æ¥éå†æ¯ä¸ªæ•°å€¼å¯¹ï¼Œå½“ç„¶è¿™éœ€è¦$O(N^2)$çš„å¤æ‚åº¦ã€‚å› æ­¤æˆ‘ä»¬æ€è€ƒèƒ½ä¸èƒ½ä»ä¸¤ä¾§å‘å†…æ”¶ç¼©ï¼Œä¹Ÿå³ä½¿ç”¨**åŒæŒ‡é’ˆ**ã€‚

!!! tip "é‡è¦è§„å¾‹ï¼"
    å¯¹äºä¸¤ä¸ªç¡®å®šé«˜åº¦çš„æŒ¡æ¿ï¼Œåªæœ‰å°†è¾ƒçŸ­è¾¹å†…ç§»æ‰æœ‰å¯èƒ½å¢å¤§å®¹å™¨çš„å‚¨æ°´é‡ã€‚

    > æ˜¾ç„¶ç§»åŠ¨è¾ƒé•¿è¾¹ï¼Œåˆ™æ‰€å¾—å®¹å™¨çš„é«˜å°äºç­‰äºè¾ƒçŸ­è¾¹ï¼Œå®¹å™¨å®½ä¹Ÿå‡å°‘ï¼Œæ•…å®¹å™¨çš„å‚¨æ°´é‡å¿…ç„¶å‡å°‘ã€‚

    !!! tip "æ‹“å±•"
        åªæœ‰å°†è¾ƒçŸ­è¾¹å†…ç§»ç›´è‡³å…¶æ¯”è¾ƒé•¿è¾¹é•¿æ—¶ï¼Œå®¹å™¨å‚¨æ°´é‡æ‰æœ‰å¯èƒ½å¢å¤§ã€‚

???+ success "Solution"
    === "Java"
        ``` java linenums="1"
        class Solution {
            public int maxArea(int[] height) {
                int max = 0;
                int left = 0, right = height.length-1;
                while (left != right) {
                    max = Math.max(max, Math.min(height[left], height[right])*(right-left));
                    if (height[left] <= height[right]) {
                        int cur_left = height[left];
                        while (height[++left] <= cur_left && left < right);
                    } else {
                        int cur_right = height[right];
                        while (height[--right] < cur_right && left < right);
                    }
                }
                return max;
            }
        }
        ```

---

### ä¸‰æ•°ä¹‹å’Œ
!!! question "ä¸‰æ•°ä¹‹å’Œ"
    ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„`nums`ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„`[nums[i], nums[j], nums[k]]`æ»¡è¶³`i != jã€i != k`ä¸”`j != k`ï¼ŒåŒæ—¶è¿˜æ»¡è¶³`nums[i] + nums[j] + nums[k] == 0`ã€‚
    è¯·ä½ è¿”å›æ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ï¼ˆé¡ºåºä¸åŒç®—ä¸€ç»„ï¼‰ã€‚

è¿™ä¸ªé¢˜æœ‰ç‚¹ç±»ä¼¼ä¸¤æ•°ä¹‹å’Œï¼Œä½†ä¸åŒçš„æ˜¯ä¸‰æ•°çº¯æš´åŠ›è§£æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(N^3)$ï¼Œè¿™æ„å‘³ç€æ’åºç®—æ³•çš„$O(NlogN)$æ˜¯å¯ä»¥æ¥å—çš„ã€‚å› æ­¤ï¼Œ
æˆ‘ä»¬å¯ä»¥é‡‡ç”¨å…ˆå¯¹æ•°ç»„æ’åºå†ä½¿ç”¨åŒæŒ‡é’ˆéå†çš„æ–¹å¼ï¼Œå½“ç„¶å…¶ä¸­è¿˜åŒ…æ‹¬è·³è¿‡ç›¸åŒé¡¹çš„ä¸€äº›ä¼˜åŒ–ã€‚

???+ success "Solution"
    === "Java"
        ``` java linenums="1"
        class Solution {
            public List<List<Integer>> threeSum(int[] nums) {
                Arrays.sort(nums);
                List<List<Integer>> result = new ArrayList<>();
                for(int i = 0; i < nums.length - 2; i++){
                    if(nums[i] > 0) break;// (1)!
                    if(i > 0 && nums[i] == nums[i - 1]) continue;// (2)!
                    int j = i + 1, k = nums.length - 1;
                    while(j < k){
                        int sum = nums[i] + nums[j] + nums[k];
                        if(sum < 0){
                            while(j < k && nums[j] == nums[++j]);
                        } else if (sum > 0) {
                            while(j < k && nums[k] == nums[--k]);
                        } else {
                            result.add(new ArrayList<Integer>(Arrays.asList(nums[i], nums[j], nums[k])));
                            while(j < k && nums[j] == nums[++j]);// (2)!
                            while(j < k && nums[k] == nums[--k]);
                        }
                    }
                }
                return result;
            }
        }
        ```

1. æ˜¾ç„¶å¦‚æœç¬¬ä¸€ä¸ªæ•°å¤§äº0ï¼Œä¸‰æ•°å’Œä¸€å®šå¤§äº0
2. è·³è¿‡ç›¸åŒçš„ä¸‰æ•°ç»„

---

### æ¥é›¨æ°´
!!! question "æ¥é›¨æ°´"
    ç»™å®š`n`ä¸ªéè´Ÿæ•´æ•°è¡¨ç¤ºæ¯ä¸ªå®½åº¦ä¸º 1 çš„æŸ±å­çš„é«˜åº¦å›¾ï¼Œè®¡ç®—æŒ‰æ­¤æ’åˆ—çš„æŸ±å­ï¼Œä¸‹é›¨ä¹‹åèƒ½æ¥å¤šå°‘é›¨æ°´ã€‚

    ![æ¥é›¨æ°´](../static/hot100_jieyushui.png)

    > è¾“å…¥ï¼šheight = [0,1,0,2,1,0,1,3,2,1,2,1]<br>è¾“å‡ºï¼š6

æˆ‘ä»¬è§‚å¯Ÿèƒ½ç››æ°´çš„åœ°æ–¹ï¼Œå…¶ä¸¤è¾¹éƒ½æ˜¯ä¸­é—´ä½ä¸¤è¾¹é«˜çš„ç»“æ„ã€‚æˆ‘ä»¬å†è¿›ä¸€æ­¥è€ƒè™‘å®¹å™¨ä¸¤è¾¹çš„é«˜åº¦ï¼Œå¦‚æœæˆ‘ä»¬å…ˆå›ºå®šä¸€è¾¹ï¼Œå†ä¾æ¬¡å¯»æ‰¾å¦ä¸€è¾¹ï¼Œ
æ˜¾ç„¶åªæœ‰é‡åˆ°æ›´é«˜çš„è¾¹æ—¶ï¼Œæ‰ä¼šç¡®å®šå½¢æˆä¸€ä¸ªå®¹å™¨ã€‚

!!! tip "å¦‚æœé€‰æ‹©æ›´çŸ®è¾¹ï¼Œå¦‚æœå…¶åæœ‰æ›´é«˜çš„åˆ™ä¼šè¢«è¦†ç›–"
    å¦‚ä¸‹å›¾ï¼Œæ·±è“è‰²åŒºåŸŸåº”è¯¥ä¸æµ…è“è‰²åŒºåŸŸä¸€èµ·å½¢æˆä¸€ä¸ªæ›´å¤§çš„å®¹å™¨ã€‚
    ![jieyushui1](../static/jieyushui1.png)

ä½†è¿™æ ·ä¼šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœè¿™ä¸ªè¾¹ä¹‹åçœŸçš„æ²¡æœ‰æ›´é«˜çš„è¾¹äº†å‘¢ï¼Ÿè¿™å°±è¦æ±‚æˆ‘ä»¬éå†åˆ°æœ€åæ‰èƒ½åˆ¤æ–­ï¼Œå¦‚æœè€ƒè™‘æç«¯æƒ…å†µï¼Œæ¯”å¦‚è¿™ä¸ªæ•°ç»„æ˜¯ä¸€ä¸ª
ä»å·¦è‡³å³ä¾æ¬¡é€’å‡çš„æ•°ç»„ï¼Œé‚£æˆ‘ä»¬æ¯æ¬¡åˆ¤æ–­å®¹å™¨éƒ½éœ€è¦éå†åˆ°æœ«å°¾ï¼Œè¿™æ˜¾ç„¶æ•ˆç‡å¤ªä½ã€‚æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬èƒ½ä¸€ç›´ä¿æŒä»ä½åˆ°é«˜çš„å¯»æ‰¾æ–¹å‘ï¼Œå°±èƒ½é¿å…
éå†çš„é—®é¢˜ï¼Œé‚£æˆ‘ä»¬åº”è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ

???+ success "åŒæŒ‡é’ˆï¼"
    æˆ‘ä»¬å¯ä»¥è®¾ç½®å·¦å³æŒ‡é’ˆ`left`å’Œ`right`ï¼Œé€‰æ‹©å…¶ä¸­çš„çŸ®è¾¹å‘å†…éå†æŸ¥æ‰¾ï¼Œç›´è‡³`left=right`ï¼Œå¦‚æ­¤å°±å¯ä»¥ä¿è¯æ–¹å‘å§‹ç»ˆæ˜¯ä»ä½è‡³é«˜ï¼

    === "Java"
        ``` java linenums="1"
        class Solution {
            public int trap(int[] height) {
                int value = 0;
                int left=0, right=height.length-1;
                while (height[left] == 0 && left < right) left++;
                while (height[right] == 0 && left < right) right--;
                while (left < right) {
                    int pre_l = left, pre_r = right;
                    if (height[left] >= height[right]) {
                        while (height[pre_r] > height[--right]);// (1)!
                        if (pre_r == right + 1) continue;
                        value += height[pre_r] * (pre_r - right - 1);
                        for (int i=pre_r-1; i>right; i--) {
                            value -= height[i];// (2)!
                        }
                    } else {
                        while (height[pre_l] > height[++left]);
                        if (pre_l == left - 1) continue;
                        value += height[pre_l] * (left - pre_l - 1);
                        for (int i=pre_l+1; i<left; i++) {
                            value -= height[i];
                        }
                    }
                }
                return value;
            }
        }
        ```
    
    1. è·³è¿‡æ‰€æœ‰æ¯”åˆå§‹è¾¹ï¼ˆ`pre_r/l`ï¼‰çŸ®çš„
    2. ä¸­é—´çš„è¾¹ä¸€å®šéƒ½æ¯”åˆå§‹è¾¹ï¼ˆ`pre_r/l`ï¼‰çŸ®ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥å‡æ‰ï¼

---

## æ»‘åŠ¨çª—å£

### æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²
!!! question "æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"
    ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚

æˆ‘çš„æƒ³æ³•æ˜¯ï¼Œå…ˆåˆå§‹åŒ–å­ä¸²é•¿åº¦æœ€å¤§å€¼`max=1`ï¼ŒåŒæ—¶ç»´æŠ¤ä¸€ä¸ªå­ä¸²ç°æœ‰é•¿åº¦å˜é‡`temp_len`ï¼Œ`temp_len`çš„åˆå§‹å€¼ä¹Ÿä¸º1ã€‚
æˆ‘ä»¬ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹éå†å­—ç¬¦ä¸²ï¼Œåˆ¤æ–­åä¸€ä¸ªå­—ç¬¦æ˜¯å¦åœ¨å·²æœ‰å­ä¸²å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°±æŠŠå®ƒåŠ å…¥åˆ°å­ä¸²ä¸­ï¼ŒåŒæ—¶æ›´æ–°`temp_len`ï¼Œå¦‚æœæ­¤æ—¶
`temp_len > max`ï¼Œåˆ™æ›´æ–°æœ€å¤§å€¼`max`ï¼›å¦‚æœå­˜åœ¨ï¼Œåˆ™æ‰¾åˆ°å·²å­˜åœ¨å­—ç¬¦ï¼ˆæ˜¾ç„¶æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªï¼‰çš„ä½ç½®ï¼Œä»è¯¥å­—ç¬¦çš„åä¸€ä½å¼€å§‹ç»´æŠ¤æ–°çš„å­ä¸²
ï¼ˆå³æ›´æ–°`temp_len`ï¼Œè¯¦è§ä¸‹å›¾ï¼‰ï¼Œå› ä¸ºè¯¥å­—ç¬¦å‰é¢å¼€å§‹çš„å­ä¸²å·²ç»ä¸å¯èƒ½æ„é€ å‡ºæ›´é•¿å­ä¸²äº†ã€‚å¦‚æ­¤å¾ªç¯ç›´è‡³å­ä¸²åˆ°è¾¾åŸå­—ç¬¦ä¸²ç»“å°¾ã€‚
![substring](../static/substring.png)

???+ success "Solution"
    === "Java"
        ``` java linenums="1"
        class Solution {
            public int lengthOfLongestSubstring(String s) {
                if (s.isEmpty()) {
                    return 0;
                }
                if (s.length() == 1) {
                    return 1;
                }
                int max = 1;
                int temp_len = 1;
                int i=0;
                while (i+max < s.length()) {
                    String sub = s.substring(i, i+temp_len);
                    int idx = sub.indexOf(s.charAt(i+temp_len));
                    if (idx != -1) {
                        i += idx + 1;
                        temp_len -= idx;
                    } else {
                        temp_len++;
                        if (temp_len > max) {
                            max = temp_len;
                        }
                    }
                }
                return max;
            }
        }
        ```
    
    === "é¢˜è§£"
        é¢˜è§£çš„æ€è·¯æ›´ç®€å•ï¼Œéå†å­—ç¬¦ä¸²çš„æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œåˆ†åˆ«ä½œä¸ºèµ·å§‹ä½å»è®¡ç®—æœ€é•¿å­ä¸²ï¼ŒåŒæ—¶æ›´æ–°æœ€å¤§å€¼ã€‚

        ``` java linenums="1"
        class Solution {
            public int lengthOfLongestSubstring(String s) {
                // å“ˆå¸Œé›†åˆï¼Œè®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°è¿‡
                Set<Character> occ = new HashSet<Character>();
                int n = s.length();
                // å³æŒ‡é’ˆï¼Œåˆå§‹å€¼ä¸º -1ï¼Œç›¸å½“äºæˆ‘ä»¬åœ¨å­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œçš„å·¦ä¾§ï¼Œè¿˜æ²¡æœ‰å¼€å§‹ç§»åŠ¨
                int rk = -1, ans = 0;
                for (int i = 0; i < n; ++i) {
                    if (i != 0) {
                        // å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œç§»é™¤ä¸€ä¸ªå­—ç¬¦
                        occ.remove(s.charAt(i - 1));
                    }
                    while (rk + 1 < n && !occ.contains(s.charAt(rk + 1))) {
                        // ä¸æ–­åœ°ç§»åŠ¨å³æŒ‡é’ˆ
                        occ.add(s.charAt(rk + 1));
                        ++rk;
                    }
                    // ç¬¬ i åˆ° rk ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªæé•¿çš„æ— é‡å¤å­—ç¬¦å­ä¸²
                    ans = Math.max(ans, rk - i + 1);
                }
                return ans;
            }
        }
        ```

---
### æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯çš„å­ä¸²
!!! question "æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯çš„å­ä¸²"
    ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²`s`å’Œ`p`ï¼Œæ‰¾åˆ°`s`ä¸­æ‰€æœ‰`p`çš„å¼‚ä½è¯çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚

ç»å…¸çš„æ»‘åŠ¨çª—å£é—®é¢˜ï¼Œå¯ä»¥è®¾ç½®ä¸¤ä¸ªæ•°ç»„åˆ†åˆ«ç»´æŠ¤`p`å’Œçª—å£ä¸­çš„å„ä¸ªå­—æ¯çš„æ•°é‡ï¼Œé€šè¿‡æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„æ˜¯å¦ç›¸ç­‰å°±å¯ä»¥åˆ¤æ–­æ˜¯å¦æ˜¯å¼‚ä½è¯ã€‚

???+ success "Solution"
    === "Java"
        ``` java linenums="1"
        class Solution {
            public List<Integer> findAnagrams(String s, String p) {
                List<Integer> result = new ArrayList<>();
                int s_len=s.length(), p_len=p.length();
                if (p_len > s_len) {
                    return result;
                }
                int[] s_char = new int[26], p_char = new int[26];
                for (int i=0; i<p_len; i++) {
                    p_char[p.charAt(i)-'a']++;
                    s_char[s.charAt(i)-'a']++;
                }
                if (Arrays.equals(p_char, s_char)) {
                    result.add(0);
                }
                for (int i=0; i<s_len-p_len; i++) {
                    s_char[s.charAt(i)-'a']--;
                    s_char[s.charAt(i+p_len)-'a']++;
                    if (Arrays.equals(p_char, s_char)) {
                        result.add(i+1);
                    }
                }
                return result;
            }
        }
        ```
    === "ä¼˜åŒ–"
        é¢˜è§£ä¸­ç»™å‡ºäº†ä¸€ç§ä¼˜åŒ–æ–¹æ³•ï¼Œé€šè¿‡`count`æ•°ç»„æ¥ä»£æ›¿åŸæ¥çš„ä¸¤ä¸ªæ•°ç»„æ¥ç»Ÿè®¡ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å„ä¸ªå­—æ¯æ•°å·®å€¼ï¼Œå†ç»´æŠ¤`differ`å˜é‡æ¥
        ç»Ÿè®¡ä¸åŒå­—æ¯æ•°çš„ä¸ªæ•°ï¼Œä»è€Œå¯ä»¥å°†åŸæ¥çš„åˆ¤æ–­ä¸¤ä¸ªæ•°ç»„ç›¸ç­‰ç®€åŒ–ä¸ºåˆ¤æ–­`differ`æ˜¯å¦ä¸ºé›¶ã€‚

        ``` java linenums="1"
        class Solution {
            public List<Integer> findAnagrams(String s, String p) {
                int sLen = s.length(), pLen = p.length();
        
                if (sLen < pLen) {
                    return new ArrayList<Integer>();
                }
        
                List<Integer> ans = new ArrayList<Integer>();
                int[] count = new int[26];
                for (int i = 0; i < pLen; ++i) {
                    ++count[s.charAt(i) - 'a'];
                    --count[p.charAt(i) - 'a'];
                }
        
                int differ = 0;
                for (int j = 0; j < 26; ++j) {
                    if (count[j] != 0) {
                        ++differ;
                    }
                }
        
                if (differ == 0) {
                    ans.add(0);
                }
        
                for (int i = 0; i < sLen - pLen; ++i) {
                    if (count[s.charAt(i) - 'a'] == 1) {  // çª—å£ä¸­å­—æ¯ s[i] çš„æ•°é‡ä¸å­—ç¬¦ä¸² p ä¸­çš„æ•°é‡ä»ä¸åŒå˜å¾—ç›¸åŒ
                        --differ;
                    } else if (count[s.charAt(i) - 'a'] == 0) {  // çª—å£ä¸­å­—æ¯ s[i] çš„æ•°é‡ä¸å­—ç¬¦ä¸² p ä¸­çš„æ•°é‡ä»ç›¸åŒå˜å¾—ä¸åŒ
                        ++differ;
                    }
                    --count[s.charAt(i) - 'a'];
        
                    if (count[s.charAt(i + pLen) - 'a'] == -1) {  // çª—å£ä¸­å­—æ¯ s[i+pLen] çš„æ•°é‡ä¸å­—ç¬¦ä¸² p ä¸­çš„æ•°é‡ä»ä¸åŒå˜å¾—ç›¸åŒ
                        --differ;
                    } else if (count[s.charAt(i + pLen) - 'a'] == 0) {  // çª—å£ä¸­å­—æ¯ s[i+pLen] çš„æ•°é‡ä¸å­—ç¬¦ä¸² p ä¸­çš„æ•°é‡ä»ç›¸åŒå˜å¾—ä¸åŒ
                        ++differ;
                    }
                    ++count[s.charAt(i + pLen) - 'a'];
                    
                    if (differ == 0) {
                        ans.add(i + 1);
                    }
                }
        
                return ans;
            }
        }
        ```

---

## å­ä¸²

### å’Œä¸ºKçš„å­æ•°ç»„
!!! question "å’Œä¸ºKçš„å­æ•°ç»„"
    ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„`nums`å’Œä¸€ä¸ªæ•´æ•°`k`ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å›è¯¥æ•°ç»„ä¸­å’Œä¸º`k`çš„å­æ•°ç»„çš„ä¸ªæ•°ã€‚å­æ•°ç»„æ˜¯æ•°ç»„ä¸­å…ƒç´ çš„è¿ç»­éç©ºåºåˆ—ã€‚

æ˜¾ç„¶å¯ä»¥ç›´æ¥æš´åŠ›æšä¸¾ï¼Œä½†éœ€è¦$O(N^2)$çš„å¤æ‚åº¦ï¼Œå› ä¸ºå¯¹äºæ¯ä¸€ä¸ªèµ·å§‹ä½ç½®ï¼Œæˆ‘ä»¬éƒ½è¦éå†å…¶åçš„æ‰€æœ‰å…ƒç´ æ¥è®¡ç®—å…ƒç´ å’Œã€‚æˆ‘ä»¬å®šä¹‰å‰`i`ä¸ªå…ƒç´ ä¹‹å’Œä¸º
`pre[i]`ï¼Œå¾ˆå®¹æ˜“å¾—åˆ°å…¬å¼ï¼š
<div style="text-align: center;">
    $pre[i] = pre[i-1] + nums[i]$
</div>
ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœ`[i, j]`ä¹‹é—´çš„å…ƒç´ å’Œä¸º`k`ï¼Œå°±æœ‰ï¼š
<div style="text-align: center;">
    $pre[i] - pre[j] = k\ (i \geq j \geq 0)$
</div>
ä¹Ÿå³ï¼Œ$pre[j] = pre[i] - k$ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ä¾æ¬¡è®¡ç®—å‰ç¼€å’Œï¼Œä½¿ç”¨`HashMap`ç»Ÿè®¡æ¯ä¸€ä¸ªå‰ç¼€å’Œå‡ºç°çš„æ¬¡æ•°ï¼ŒåŒæ—¶ä¸æ–­åœ¨å“ˆå¸Œè¡¨ä¸­æŸ¥æ‰¾
`pre[i]-k`ï¼Œå°†å¯¹åº”å€¼åŠ å…¥åˆ°å­æ•°ç»„æ€»æ•°å½“ä¸­ã€‚

???+ success "Solution"
    === "Java"

        ``` java linenums="1"
        class Solution {
            public int subarraySum(int[] nums, int k) {
                int num = 0, pre = 0;
                HashMap<Integer, Integer> map = new HashMap<>();
                map.put(0, 1);
                for (int i=0; i<nums.length; i++) {
                    pre += nums[i];
                    if (map.containsKey(pre - k)) {
                        num += map.get(pre - k);
                    }
                    map.put(pre, map.getOrDefault(pre, 0) + 1);
                }
                return num;
            }
        }
        ```
        
        > `getOrDefault(key, defaultValue)`ï¼šæŸ¥æ‰¾`key`å¯¹åº”çš„å€¼ï¼Œè‹¥æ²¡æœ‰åˆ™è¿”å›é»˜è®¤å€¼`defaultValue`

---

### æ»‘åŠ¨çª—å£æœ€å¤§å€¼
!!! question "æ»‘åŠ¨çª—å£æœ€å¤§å€¼"
    ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„`nums`ï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º`k`çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„`k`ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚è¿”å›æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚

